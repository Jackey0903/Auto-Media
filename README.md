# Self-Media å°çº¢ä¹¦è‡ªåŠ¨åŒ–è¿è¥ç³»ç»Ÿ

è¿™æ˜¯ä¸€ä¸ªè‡ªç”¨çš„å…¨è‡ªåŠ¨åŒ–å°çº¢ä¹¦è¿è¥å·¥å…·ï¼Œæ—¨åœ¨é€šè¿‡ AI æŠ€æœ¯å®ç°ä»"é€‰é¢˜æŒ–æ˜"åˆ°"å†…å®¹å‘å¸ƒ"çš„å…¨æµç¨‹è‡ªåŠ¨åŒ–ã€‚

é¡¹ç›®çš„è®¾è®¡ç†å¿µæ˜¯**è§£æ”¾åŒæ‰‹**ï¼šä½ åªéœ€è¦æä¾›ä¸€ä¸ªç®€å•çš„æƒ³æ³•ï¼Œå‰©ä¸‹çš„å³åˆ»äº¤ç»™ç³»ç»Ÿå®Œæˆã€‚

---

## ç³»ç»Ÿæ¶æ„

é¡¹ç›®ä¸»è¦ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œæ¨¡æ‹Ÿäº†çœŸäººçš„æ“ä½œé€»è¾‘ï¼š

### 1. æ‰§è¡Œç«¯ (Hand) â€”â€” `xiaohongshu-mcp`

è¿™æ˜¯ç³»ç»Ÿçš„"æ‰‹"ã€‚å®ƒåŸºäº MCP (Model Context Protocol) åè®®ï¼Œé€šè¿‡ Playwright æŠ€æœ¯ç›´æ¥æ§åˆ¶æµè§ˆå™¨ã€‚

- **ä½œç”¨**ï¼šæ¨¡æ‹ŸçœŸäººæ“ä½œï¼ŒåŒ…æ‹¬ç™»å½•è´¦å·ã€ä¸Šä¼ å›¾ç‰‡ã€å¡«å†™æ–‡æ¡ˆã€ç‚¹å‡»å‘å¸ƒç­‰ã€‚
- **ä¼˜åŠ¿**ï¼šé¿å¼€å¤æ‚çš„ API é€†å‘ï¼Œç›´æ¥åœ¨æµè§ˆå™¨å±‚é¢æ“ä½œï¼Œå®‰å…¨æ€§æ›´é«˜ï¼Œä¸”èƒ½é€šè¿‡å¤ç”¨æµè§ˆå™¨ä¸Šä¸‹æ–‡ä¿æŒç™»å½•çŠ¶æ€ã€‚

### 2. æ§åˆ¶ç«¯ (Brain) â€”â€” `xiaohongshu` (Web App)

è¿™æ˜¯ç³»ç»Ÿçš„"è„‘"ã€‚å®ƒæ˜¯ä¸€ä¸ªåŸºäº FastAPI çš„ Web åº”ç”¨ç¨‹åºã€‚

- **ä½œç”¨**ï¼š
  - **æ€è€ƒ**ï¼šåˆ©ç”¨å¤§æ¨¡å‹ (å¦‚ GPT-4, Claude, GLM-4) ç”Ÿæˆç¬¦åˆå°çº¢ä¹¦è°ƒæ€§çš„æ–‡æ¡ˆã€‚
  - **æœç´¢**ï¼šè°ƒç”¨ Tavily ç­‰æœç´¢å·¥å…·è·å–æœ€æ–°çš„è”ç½‘ä¿¡æ¯ã€‚
  - **è°ƒåº¦**ï¼šæŒ‡æŒ¥"æ‰§è¡Œç«¯"è¿›è¡Œå…·ä½“çš„æ“ä½œã€‚

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå‡†å¤‡

ç¡®ä¿ä½ çš„ç”µè„‘å·²å®‰è£…ï¼š

- **Python 3.8+**
- **Node.js 18+** (è¿è¡Œ MCP æœåŠ¡å¿…é¡»)

### ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨æ‰§è¡Œç«¯ (Mcp Server)

è¿™ä¸ªæœåŠ¡è´Ÿè´£æ¥ç®¡æµè§ˆå™¨ï¼Œéœ€è¦ä¸€ç›´ä¿æŒè¿è¡Œã€‚

æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯çª—å£ï¼š

```bash
# 1. è¿›å…¥ MCP æœåŠ¡ç›®å½•
cd xiaohongshu-mcp-darwin-arm64

# 2. å¯åŠ¨æœåŠ¡
./xiaohongshu-mcp-darwin-arm64
```

> **é¦–æ¬¡è¿è¡Œæç¤º**ï¼šç»ˆç«¯ä¼šå¼¹å‡ºä¸€ä¸ªäºŒç»´ç ï¼Œè¯·ä½¿ç”¨å°çº¢ä¹¦ App æ‰«ç ç™»å½•ã€‚ç™»å½•æˆåŠŸåï¼ŒSession ä¿¡æ¯ä¼šè‡ªåŠ¨ä¿å­˜ï¼Œåç»­æ— éœ€é‡å¤ç™»å½•ã€‚

### ç¬¬äºŒæ­¥ï¼šå¯åŠ¨æ§åˆ¶ç«¯ (Web App)

è¿™æ˜¯ä½ çš„æ“ä½œç•Œé¢ã€‚

æ‰“å¼€å¦ä¸€ä¸ªç»ˆç«¯çª—å£ï¼š

```bash
# 1. è¿›å…¥ Web åº”ç”¨ç›®å½•
cd xiaohongshu

# 2. å¯åŠ¨åº”ç”¨
python app.py
```

å¯åŠ¨æˆåŠŸåï¼Œæµè§ˆå™¨è®¿é—®ï¼š[http://localhost:8080](http://localhost:8080)

---

## ä½¿ç”¨æŒ‡å—

### 1. åŸºç¡€é…ç½®

è¿›å…¥ Web ç•Œé¢åï¼Œç‚¹å‡»å·¦ä¸‹è§’çš„ **âš™ï¸ è®¾ç½®** å›¾æ ‡ï¼š

- **LLM API Key**ï¼šå¡«å†™ä½ çš„å¤§æ¨¡å‹ API å¯†é’¥ (æ¨è SiliconFlow æˆ– OpenAI)ã€‚
- **Base URL**ï¼šæ¨¡å‹æœåŠ¡çš„æ¥å£åœ°å€ (ä¾‹å¦‚ SiliconFlow ä¸º `https://api.siliconflow.cn/v1`)ã€‚
- **Tavily API Key**ï¼š(å¼ºçƒˆæ¨è) ç”¨äºè”ç½‘æœç´¢æœ€æ–°ç´ æï¼Œæ²¡æœ‰å®ƒ AI åªèƒ½"çç¼–"ã€‚

### 2. å¼€å§‹åˆ›ä½œ

å›åˆ°é¦–é¡µï¼š

1. åœ¨è¾“å…¥æ¡†å¡«å†™ä¸»é¢˜ï¼Œä¾‹å¦‚ "2024å¹´æœ€å€¼å¾—ä¹°çš„æ•°ç äº§å“"ã€‚
2. ç‚¹å‡» **âœ¨ ç”Ÿæˆ**ã€‚
3. ç³»ç»Ÿä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æµç¨‹ï¼š
   - **è”ç½‘æœç´¢**ï¼šè·å–æœ€æ–°çš„ç›¸å…³èµ„è®¯ã€‚
   - **æ’°å†™æ–‡æ¡ˆ**ï¼šç”Ÿæˆæ ‡é¢˜ã€æ­£æ–‡ã€æ ‡ç­¾ã€‚
   - **æ™ºèƒ½é…å›¾**ï¼šè‡ªåŠ¨æœç´¢æ— ç‰ˆæƒé«˜æ¸…é…å›¾ã€‚
   - **è‡ªåŠ¨å‘å¸ƒ**ï¼šç›´æ¥å‘å¸ƒåˆ°ä½ çš„å°çº¢ä¹¦è´¦å·ã€‚

### 3. å¦‚ä½•åœæ­¢ç¨‹åº

- **æ­£å¸¸åœæ­¢**ï¼šåœ¨è¿è¡Œç¨‹åºçš„ç»ˆç«¯çª—å£ï¼ŒæŒ‰ **`Ctrl + C`** å³å¯ã€‚
- **å¼ºåˆ¶åœæ­¢**ï¼ˆå¦‚æœæç¤ºç«¯å£å ç”¨ï¼‰ï¼š
  ```bash
  lsof -ti :8080 | xargs kill -9
  ```

---

## é¡¶ä¼šè®ºæ–‡è§£è¯»æœºå™¨äºº (Paper Bot) ğŸ¤–

è¿™æ˜¯ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„æ¨¡å—ï¼Œä¸“ä¸ºé«˜è´¨é‡è®ºæ–‡è§£è¯»è®¾è®¡ã€‚

**æ ¸å¿ƒç‰¹æ€§**ï¼š
1. **å…¨å›¾å‘å¸ƒ**ï¼šä¸å†åªæ˜¯æˆªå–ä¸€å¼ å›¾ï¼Œè€Œæ˜¯å°† **æ•´ç¯‡ PDF è®ºæ–‡** (Page 1 to End) è½¬ä¸ºå›¾ç‰‡å‘å¸ƒï¼Œè®©è¯»è€…å¯ä»¥ç›´æ¥é˜…è¯»åŸæ–‡ã€‚
2. **é¡¶ä¼šé”å®š**ï¼šä¸“æ”» CVPR, ICCV, NeurIPS, ICML ç­‰é¡¶çº§ä¼šè®®ï¼Œæ‹’ç»æ°´æ–‡ã€‚
3. **æ·±åº¦è§£è¯» (Human-Level)**ï¼š
   - å†…ç½®â€œèµ„æ·±ç ”ç©¶å‘˜â€äººè®¾ã€‚
   - **ä¸¥æ ¼ç¦æ­¢**ï¼šEmojiã€åˆ—è¡¨ã€å°æ ‡é¢˜ã€å…«è‚¡æ–‡è½¬æŠ˜è¯ã€‚
   - **å™äº‹é€»è¾‘**ï¼šç—›ç‚¹ -> ç ´å±€ç‚¹ -> å®éªŒè¯æ˜ -> ä¸ªäººå¯å‘ã€‚

**å¯åŠ¨å‘½ä»¤**ï¼š

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd xiaohongshu

# è¿è¡Œä¸€æ¬¡ (é»˜è®¤æœ CVPR)
python run_paper_bot.py

# æŒ‡å®šè¯é¢˜æˆ–ä¼šè®®
python run_paper_bot.py --topic "NeurIPS"

# æŒ‡å®šè¯é¢˜ + å…³é”®è¯
python run_paper_bot.py --topic "LLM Hallucination"
``` 

---

## è‡ªåŠ¨å‘å¸ƒä»»åŠ¡ç®¡ç† (è¿›é˜¶)

é™¤äº†æ‰‹åŠ¨åœ¨ Web ç•Œé¢ç”Ÿæˆï¼Œç³»ç»Ÿè¿˜æ”¯æŒåå°è‡ªåŠ¨å®šæ—¶å‘å¸ƒã€‚

### 1. å¯åŠ¨ä»»åŠ¡

ä½ å¯ä»¥ä½¿ç”¨ Docker Compose åœ¨åå°è¿è¡Œç‰¹å®šçš„å‘å¸ƒä»»åŠ¡ã€‚

**æ–¹å¼ä¸€ï¼šå¯åŠ¨ AI æ–°é—»é€Ÿè§ˆ (é»˜è®¤æ¨¡å¼)**
```bash
# åå°å¯åŠ¨ (æ¯å°æ—¶è‡ªåŠ¨æ‰§è¡Œ)
docker compose run -d --name ai_news app python scheduler.py --mode general

# ç«‹å³æ‰§è¡Œä¸€æ¬¡ (æµ‹è¯•ç”¨)
docker compose run --rm app python scheduler.py --run-now --mode general
```

**æ–¹å¼äºŒï¼šå¯åŠ¨ AI è®ºæ–‡é€Ÿè§ˆ**
```bash
# åå°å¯åŠ¨ (æ¯å°æ—¶è‡ªåŠ¨æ‰§è¡Œ)
docker compose run -d --name ai_paper app python scheduler.py --mode paper_analysis

# ç«‹å³æ‰§è¡Œä¸€æ¬¡ (æµ‹è¯•ç”¨)
docker compose run --rm app python scheduler.py --run-now --mode paper_analysis
```

**æ–¹å¼ä¸‰ï¼šå¯åŠ¨çŸ¥ä¹æ·±åº¦è§£è¯»**
```bash
# åå°å¯åŠ¨
docker compose run -d --name ai_zhihu app python scheduler.py --mode zhihu
```

### 2. åœæ­¢ä»»åŠ¡

å¦‚æœä½ åœ¨åå°å¯åŠ¨äº†ä»»åŠ¡ (ä½¿ç”¨äº† `-d` å‚æ•°)ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœæ­¢å®ƒä»¬ï¼š

```bash
# åœæ­¢ AI æ–°é—»ä»»åŠ¡
docker stop ai_news && docker rm ai_news

# åœæ­¢ AI è®ºæ–‡ä»»åŠ¡
docker stop ai_paper && docker rm ai_paper

# åœæ­¢æ‰€æœ‰ä»»åŠ¡
docker stop $(docker ps -q --filter ancestor=auto-media-app)
```

### 3. æŸ¥çœ‹æ—¥å¿—

æŸ¥çœ‹åå°ä»»åŠ¡çš„è¿è¡Œæƒ…å†µï¼š

```bash
docker logs -f ai_news
# æˆ–
docker logs -f ai_paper
```

---

## å¸¸è§é—®é¢˜æ’æŸ¥

1. **å‘å¸ƒæ—¶æç¤º "MCP Server not initialized"**

   - æ£€æŸ¥ `xiaohongshu-mcp` é‚£ä¸ªç»ˆç«¯çª—å£æ˜¯å¦è¢«å…³é—­äº†ï¼Œå®ƒå¿…é¡»ä¸€ç›´è¿è¡Œã€‚
2. **å†…å®¹ç”Ÿæˆå¡åœ¨æœç´¢é˜¶æ®µ**

   - é¦–æ¬¡ä½¿ç”¨æœç´¢åŠŸèƒ½æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸‹è½½å¿…è¦çš„ MCP æœç´¢ç»„ä»¶ï¼Œå¯èƒ½ä¼šæ¶ˆè€—å‡ åˆ†é’Ÿæ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…ï¼Œä¸è¦å…³é—­ç¨‹åºã€‚
3. **ç«¯å£ 8080 è¢«å ç”¨**

   - å¦‚æœé‡å¯ `app.py` æ—¶æŠ¥é”™ç«¯å£å ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¸…ç†ï¼š
     ```bash
     lsof -ti :8080 | xargs kill -9
     ```

---

**Happy Creating! ğŸš€**
